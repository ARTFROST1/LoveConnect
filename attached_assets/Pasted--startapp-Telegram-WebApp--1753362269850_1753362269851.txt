üß≠ –ü—Ä–æ–º–ø—Ç: –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π —á–µ—Ä–µ–∑ startapp –≤ Telegram WebApp
–•–æ—á—É —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–µ–π—à—É—é –∏ –±–µ–∑–æ—Ç–∫–∞–∑–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –≤ –º–æ—ë–º Telegram WebApp-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ duoLove, –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Ç–µ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –¥—Ä—É–≥–∏—Ö –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, Antarctic Wallet).

üéØ –¶–µ–ª—å
–ò–≥—Ä–æ–∫ 1 —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É.

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ—ë –ò–≥—Ä–æ–∫—É 2 —á–µ—Ä–µ–∑ Telegram.

–ò–≥—Ä–æ–∫ 2 –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç WebApp.

WebApp –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä startapp=invite_{id}.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–∑–∞–∏–º–Ω–∞—è –ø–∞—Ä–∞ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

–£ –æ–±–æ–∏—Ö –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º.

üîó –§–æ—Ä–º–∞—Ç —Å—Å—ã–ª–∫–∏
–°—Å—ã–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å—Ç—Ä–æ–≥–æ –≤ —Ç–∞–∫–æ–º –≤–∏–¥–µ:

arduino
Copy
Edit
https://t.me/duolove_bot/app?startapp=invite_{telegram_id}
–ü—Ä–∏–º–µ—Ä:

arduino
Copy
Edit
https://t.me/duolove_bot/app?startapp=invite_803210627
–≠—Ç–∞ —Å—Å—ã–ª–∫–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram, –∏ Telegram –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä startapp=invite_803210627 –≤–Ω—É—Ç—Ä—å WebApp.

üî® –≠—Ç–∞–ø 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏ (–ò–≥—Ä–æ–∫ 1)
–ö–æ–≥–¥–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –ø–∞—Ä—Ç–Ω—ë—Ä–∞, –æ–Ω –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É ¬´–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ¬ª. –¢–æ–≥–¥–∞:

ts
Copy
Edit
const telegramId = Telegram.WebApp.initDataUnsafe?.user?.id;
const inviteLink = `https://t.me/duolove_bot/app?startapp=invite_${telegramId}`;
–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —ç—Ç—É —Å—Å—ã–ª–∫—É, –∫–æ–ø–∏—Ä—É–µ–º –∏–ª–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ Telegram.

üß† –≠—Ç–∞–ø 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ WebApp (–ò–≥—Ä–æ–∫ 2)
–ö–æ–≥–¥–∞ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, WebApp –ø–æ–ª—É—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä:

ts
Copy
Edit
const params = new URLSearchParams(window.location.search);
const startapp = params.get("startapp");
–ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å invite_, –∏–∑–≤–ª–µ–∫–∞–µ–º ID –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–≥–æ:

ts
Copy
Edit
const inviterId = startapp.replace("invite_", "");
–ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—â—ë –Ω–µ—Ç –ø–∞—Ä—Ç–Ω—ë—Ä–∞:

ts
Copy
Edit
if (!hasPartner) {
  db.setPartner(inviterId);
  refreshPartner();
}
–ü–æ—Å–ª–µ —á–µ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å –Ω–æ–≤—ã–º –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º.

üîÅ –≠—Ç–∞–ø 3: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —É –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–≥–æ
–ò–≥—Ä–æ–∫ 1 —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω —É–∑–Ω–∞—Ç—å, —á—Ç–æ –µ–≥–æ –ø—Ä–∏–≥–ª–∞—Å–∏–ª–∏. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –¥–≤—É—Ö —Å–ø–æ—Å–æ–±–æ–≤:

–í–∞—Ä–∏–∞–Ω—Ç 1: Polling (–∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã)
ts
Copy
Edit
useEffect(() => {
  const interval = setInterval(() => {
    refreshPartner();
  }, 3000);
  return () => clearInterval(interval);
}, []);
–í–∞—Ä–∏–∞–Ω—Ç 2: –°–µ—Ä–≤–µ—Ä–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞
–ï—Å–ª–∏ –µ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä:

–ò–≥—Ä–æ–∫ 2 –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞ –¥–µ–ª–∞–µ—Ç fetch-–∑–∞–ø—Ä–æ—Å –∫ –±–æ—Ç—É

–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ/—Å–æ–æ–±—â–µ–Ω–∏–µ –∏–≥—Ä–æ–∫—É 1

WebApp —É –∏–≥—Ä–æ–∫–∞ 1 —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –∏ –≤—ã–∑—ã–≤–∞–µ—Ç refreshPartner()

üîê –≠—Ç–∞–ø 4: –ü—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∑–∞—â–∏—Ç–∞
–ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∂–µ –µ—Å—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä ‚Äî startapp –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.

–ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∏–ª–∏ –ø—É—Å—Ç–æ–π ‚Äî —Ç–æ–∂–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.

–ù–∏–∫–∞–∫–∏—Ö –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –æ—à–∏–±–æ–∫ –≤—Ä–æ–¥–µ ¬´–Ω–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ¬ª.

–í—Å—è –ª–æ–≥–∏–∫–∞ ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è (—á–µ—Ä–µ–∑ SQLite), –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ).

üñº –≠—Ç–∞–ø 5: UI –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ê–≤–∞—Ç–∞—Ä –ø–∞—Ä—Ç–Ω—ë—Ä–∞

–û–Ω–ª–∞–π–Ω-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (—Å–µ—Ä—ã–π/–∑–µ–ª—ë–Ω—ã–π)

–î–Ω–∏ –≤–º–µ—Å—Ç–µ –∏ –¥–Ω–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

–ö–Ω–æ–ø–∫—É ¬´–ù–∞—á–∞—Ç—å –∏–≥—Ä—É¬ª

–≠–∫—Ä–∞–Ω ¬´–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞¬ª –±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

üì¶ –ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–î–µ—Ç–∞–ª–∏
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏	–ß–µ—Ä–µ–∑ https://t.me/duolove_bot/app?startapp=invite_...
–ü–µ—Ä–µ–¥–∞—á–∞ startapp	Telegram WebApp SDK
–û–±—Ä–∞–±–æ—Ç–∫–∞ startapp	useEffect() + db.setPartner()
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞	–ß–µ—Ä–µ–∑ polling –∏–ª–∏ Telegram-–±–æ—Ç
UI –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ	–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
–ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫	–ë–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∫–æ–Ω–Ω–µ–∫—Ç–æ–≤ –∏ –±–∞–≥–æ–≤

üìå –í–∞–∂–Ω–æ:
–ù–∏–∫–∞–∫–∏—Ö —Å—Å—ã–ª–æ–∫ –≤–∏–¥–∞ https://*.replit.dev/... ‚Äî Telegram –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç startapp –≤ –Ω–∏—Ö.

–¢–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ https://t.me/{bot_username}/app?startapp=... –∑–∞–ø—É—Å–∫–∞—é—Ç WebApp –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å openTelegramLink ‚Äî –µ–≥–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Telegram SDK.